var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,s=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&l(e,n,t[n]);if(r)for(var n of r(t))o.call(t,n)&&l(e,n,t[n]);return e},c=(e,r)=>t(e,n(r)),i=(e,t)=>{var n={};for(var l in e)a.call(e,l)&&t.indexOf(l)<0&&(n[l]=e[l]);if(null!=e&&r)for(var l of r(e))t.indexOf(l)<0&&o.call(e,l)&&(n[l]=e[l]);return n};import{e as u,r as p,R as m,c as h,a as d}from"./vendor.5c200524.js";let f;const v={},y=function(e,t){if(!t||0===t.length)return e();if(void 0===f){const e=document.createElement("link").relList;f=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in v)return;v[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":f,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))},w="undefined"!=typeof process&&process.versions&&process.versions.node;class E{constructor(e){this.values=e,this.watcher=u(),Object.keys(e).forEach((e=>{Object.defineProperty(this,e,{get:()=>this.values[e],set:t=>{this.values[e]=t,this.watcher.emit(e,t)}})}))}on(e,t){this.watcher.on(e,t)}off(e,t){this.watcher.off(e,t)}}const b=p.exports.createContext(),g=e=>{var t=e,{synth:n,params:r}=t,a=i(t,["synth","params"]);const[o,l]=p.exports.useState(r),u=p.exports.useRef(new E(r));p.exports.useEffect((()=>{!async function(e,t){let n,r;if(w){const a=(await y((()=>import("./index.815c4936.js").then((function(e){return e.i}))),["/crossaudio/assets/index.815c4936.js","/crossaudio/assets/___vite-browser-external_commonjs-proxy.926157f9.js","/crossaudio/assets/vendor.5c200524.js"])).StreamAudioContext;n=new((await y((()=>import("./index.9d83c4ad.js").then((function(e){return e.i}))),["/crossaudio/assets/index.9d83c4ad.js","/crossaudio/assets/___vite-browser-external_commonjs-proxy.926157f9.js","/crossaudio/assets/vendor.5c200524.js"])).default),r=new a,r.pipe(n),r.resume(),e(r,t)}else window.addEventListener("click",(()=>{r||(r=new AudioContext,r.resume(),e(r,t))}))}(n,u.current)}),[]);return m.createElement(b.Provider,c(s({},a),{value:[o,e=>{Object.keys(r).forEach((t=>{u.current[t]=e[t]})),l(e)}]}))};const x=()=>{const[e,t]=p.exports.useContext(b),n=n=>r=>t(c(s({},e),{[n]:parseInt(r.target.value)}));return m.createElement("div",{className:"synth"},m.createElement("div",null,m.createElement("label",null,"power:"),m.createElement("input",{type:"checkbox",onChange:n=>t(c(s({},e),{power:n.target.checked})),checked:e.power})),m.createElement("div",null,m.createElement("label",null,"note:"),m.createElement("input",{type:"range",value:e.note,onChange:n("note"),min:0,max:127}),m.createElement("div",{className:"value"},e.note)),m.createElement("div",null,m.createElement("label",null,"cutoff:"),m.createElement("input",{type:"range",value:e.cutoff,onChange:n("cutoff"),min:0,max:127}),m.createElement("div",{className:"value"},e.cutoff)),m.createElement("div",null,m.createElement("label",null,"resonance:"),m.createElement("input",{type:"range",value:e.resonance,onChange:n("resonance"),min:0,max:127}),m.createElement("div",{className:"value"},e.resonance)))},k={};function O(e){var t=e,{components:n}=t,r=i(t,["components"]);return h("wrapper",c(s(s({},k),r),{components:n,mdxType:"MDXLayout"}),h("h1",null,"crossaudio"),h("h3",null,"Quick Start:"),h("pre",null,h("code",s({parentName:"pre"},{className:"language-sh"}),"npx coreaudio mysynth.js\n")),h("hr",null),h("p",null,"Read more on ",h("a",s({parentName:"p"},{href:"https://github.com/konsumer/crossaudio/wiki/Getting-Started"}),"our wiki"),"."),h("hr",null),h("p",null,"Here is a quick demo of how it works in react:"),h(x,{mdxType:"DemoSynth"}),h("p",null,h("a",s({parentName:"p"},{href:"https://github.com/konsumer/crossaudio/blob/main/packages/site/src/synth.js"}),"source")),h("hr",null),h("p",null,"The same synth code can also be used in plain javascript in the browser, and in a headless CLI or graphical app, without a browser."),h("hr",null),h("p",null,"Check out these visualization demos:"),h("ul",null,h("li",{parentName:"ul"},h("a",s({parentName:"li"},{href:"bargraph.html"}),"bargraph")),h("li",{parentName:"ul"},h("a",s({parentName:"li"},{href:"spectrograph.html"}),"spectrograph")),h("li",{parentName:"ul"},h("a",s({parentName:"li"},{href:"oscilloscope.html"}),"oscilloscope"))),h("p",null,"These are all plain javascript (if you prefer that) but you can also use them in react."))}O.isMDXComponent=!0;const j=e=>440*Math.pow(2,(e-69)/12),N=e=>1e-4+e/127*999.9999;d.render(m.createElement(m.StrictMode,null,m.createElement(g,{synth:function(e,t){const n=e.createOscillator();n.frequency.value=j(t.note),n.type="sawtooth",n.start(0),t.on("note",(e=>{n.frequency.value=j(e)}));const r=e.createBiquadFilter();r.type="lowpass",r.frequency.value=j(t.cutoff),r.Q.value=N(t.resonance),t.on("cutoff",(e=>{r.frequency.value=j(e)})),t.on("resonance",(e=>{r.Q.value=N(e)}));const a=e.createGain();a.gain.value=t.power?1:0,t.on("power",(e=>{a.gain.value=e?1:0})),n.connect(r),r.connect(a),a.connect(e.destination)},params:{cutoff:48,resonance:2,power:!1,note:48}},m.createElement(O,null))),document.getElementById("root"));
