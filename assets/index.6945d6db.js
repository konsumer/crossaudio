var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,l=(e,t)=>{for(var n in t||(t={}))a.call(t,n)&&s(e,n,t[n]);if(r)for(var n of r(t))o.call(t,n)&&s(e,n,t[n]);return e},c=(e,r)=>t(e,n(r)),i=(e,t)=>{var n={};for(var s in e)a.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&r)for(var s of r(e))t.indexOf(s)<0&&o.call(e,s)&&(n[s]=e[s]);return n};import{e as u,r as p,R as m,a as d,c as h,b as f}from"./vendor.919e57b3.js";let v;const y={},E=function(e,t){if(!t||0===t.length)return e();if(void 0===v){const e=document.createElement("link").relList;v=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in y)return;y[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":v,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))},w="undefined"!=typeof process&&process.versions&&process.versions.node;class b{constructor(e){this.values=e,this.watcher=u(),Object.keys(e).forEach((e=>{Object.defineProperty(this,e,{get:()=>this.values[e],set:t=>{this.values[e]=t,this.watcher.emit(e,t)}})}))}on(e,t){this.watcher.on(e,t)}off(e,t){this.watcher.off(e,t)}}const g=p.exports.createContext(),x=e=>{var t=e,{synth:n,params:r}=t,a=i(t,["synth","params"]);const[o,s]=p.exports.useState(r),u=p.exports.useRef(new b(r));p.exports.useEffect((()=>{!async function(e,t){let n,r;if(w){const a=(await E((()=>import("./index.8afdf117.js").then((function(e){return e.i}))),["/crossaudio/assets/index.8afdf117.js","/crossaudio/assets/___vite-browser-external_commonjs-proxy.2a84a75e.js","/crossaudio/assets/vendor.919e57b3.js"])).StreamAudioContext;n=new(await E((()=>import("./index.42bec9eb.js").then((function(e){return e.i}))),["/crossaudio/assets/index.42bec9eb.js","/crossaudio/assets/___vite-browser-external_commonjs-proxy.2a84a75e.js","/crossaudio/assets/vendor.919e57b3.js"])),r=new a,r.pipe(n),r.resume(),e(r,t)}else window.addEventListener("click",(()=>{r||(r=new AudioContext,r.resume(),e(r,t))}))}(n,u.current)}),[]);return m.createElement(g.Provider,c(l({},a),{value:[o,e=>{Object.keys(r).forEach((t=>{u.current[t]=e[t]})),s(e)}]}))};const O=()=>{const[e,t]=p.exports.useContext(g),n=n=>r=>t(c(l({},e),{[n]:parseInt(r.target.value)}));return d.createElement("div",{className:"synth"},d.createElement("div",null,d.createElement("label",null,"power:"),d.createElement("input",{type:"checkbox",onChange:n=>t(c(l({},e),{power:n.target.checked})),checked:e.power})),d.createElement("div",null,d.createElement("label",null,"note:"),d.createElement("input",{type:"range",value:e.note,onChange:n("note"),min:0,max:127}),d.createElement("div",{className:"value"},e.note)),d.createElement("div",null,d.createElement("label",null,"cutoff:"),d.createElement("input",{type:"range",value:e.cutoff,onChange:n("cutoff"),min:0,max:127}),d.createElement("div",{className:"value"},e.cutoff)),d.createElement("div",null,d.createElement("label",null,"resonance:"),d.createElement("input",{type:"range",value:e.resonance,onChange:n("resonance"),min:0,max:127}),d.createElement("div",{className:"value"},e.resonance)))},k={};function j(e){var t=e,{components:n}=t,r=i(t,["components"]);return h("wrapper",c(l(l({},k),r),{components:n,mdxType:"MDXLayout"}),h("h1",null,"crossaudio"),h("h3",null,"Quick Start:"),h("pre",null,h("code",l({parentName:"pre"},{className:"language-sh"}),"npx coreaudio mysynth.js\n")),h("hr",null),h("p",null,"Read more on ",h("a",l({parentName:"p"},{href:"https://github.com/konsumer/crossaudio/wiki/Getting-Started"}),"our wiki"),"."),h("hr",null),h("p",null,"Here is a quick demo of how it works in react:"),h(O,{mdxType:"DemoSynth"}),h("p",null,h("a",l({parentName:"p"},{href:"https://github.com/konsumer/crossaudio/blob/main/packages/site/src/synth.js"}),"source")),h("hr",null),h("p",null,"The same synth code can also be used in plain javascript in the browser, and in a headless CLI or graphical app, without a browser."))}j.isMDXComponent=!0;const C=e=>440*Math.pow(2,(e-69)/12);f.render(d.createElement(d.StrictMode,null,d.createElement(x,{synth:function(e,t){const n=e.createOscillator();n.frequency.value=C(t.note);const r=e.createGain();r.gain.value=t.power?1:0,t.on("power",(e=>{r.gain.value=e?1:0})),t.on("note",(e=>{n.frequency.value=C(e)})),n.connect(r),r.connect(e.destination),n.start(0)},params:{cutoff:48,resonance:0,power:!1,note:48}},d.createElement(j,null))),document.getElementById("root"));
